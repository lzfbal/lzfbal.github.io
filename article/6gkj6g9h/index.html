<!doctype html><html lang="en-US"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.157" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><title>Modbus protocol | Joey's Blog</title><meta name="description" content="Life and Tech"><link rel="preload" href="/assets/style-Co7jSXr1.css" as="style"><link rel="stylesheet" href="/assets/style-Co7jSXr1.css"><link rel="modulepreload" href="/assets/app-lqGoFMin.js"><link rel="modulepreload" href="/assets/index.html-C_YT6BuQ.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-d90a7a26><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5a8d0bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d5a8d0bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-d90a7a26 data-v-e98a6132><div class="vp-navbar" vp-navbar data-v-e98a6132 data-v-2c31ea5e><div class="wrapper" data-v-2c31ea5e><div class="container" data-v-2c31ea5e><div class="title" data-v-2c31ea5e><div class="vp-navbar-title" data-v-2c31ea5e data-v-1a4f50af><a class="vp-link link no-icon title" href="/" data-v-1a4f50af><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-480e858a><!--]--><!--[--><img class="vp-image light logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-480e858a><!--]--><!--]--><!--]--><span data-v-1a4f50af>Joey&#39;s Blog</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-2c31ea5e><div class="content-body" data-v-2c31ea5e><!--[--><!--]--><div class="vp-navbar-search search" data-v-2c31ea5e><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="Search" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">Search</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-2c31ea5e data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>博客</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>标签</span><!----><!--]--><!----></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-2c31ea5e data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-2c31ea5e data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-2c31ea5e data-v-652282fd data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-86530b6c><span class="vpi-more-horizontal icon" data-v-86530b6c></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>Appearance</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-2c31ea5e data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-2c31ea5e><div class="divider-line" data-v-2c31ea5e></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-d90a7a26 data-v-3944d8e8><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-3944d8e8><span class="vpi-align-left menu-icon" data-v-3944d8e8></span><span class="menu-text" data-v-3944d8e8>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-3944d8e8 data-v-4114a62c><button data-v-4114a62c>Return to top</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-d90a7a26 data-v-b2beaca7><div class="vp-doc-container is-blog" data-v-b2beaca7 data-v-23f6ad98><!--[--><!--]--><div class="container" data-v-23f6ad98><!----><div class="content" data-v-23f6ad98><div class="content-container" data-v-23f6ad98><!--[--><!--]--><main class="main" data-v-23f6ad98><nav class="vp-breadcrumb" data-v-23f6ad98 data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->Home<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="Home" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->Blog<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="Blog" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/blog/categories/?id=c327b4" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->working<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="working" data-v-1ae4ad7a><meta property="position" content="3" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb current" href="/article/6gkj6g9h/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->Modbus protocol<!--]--><!----></a><!----><meta property="name" content="Modbus protocol" data-v-1ae4ad7a><meta property="position" content="4" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-27be53cb>Modbus protocol <!----></h1><div class="vp-doc-meta" data-v-27be53cb><!--[--><!--]--><p class="reading-time" data-v-27be53cb><span class="vpi-books icon" data-v-27be53cb></span><span data-v-27be53cb>About 514 words</span><span data-v-27be53cb>About 2 min</span></p><p data-v-27be53cb><span class="vpi-tag icon" data-v-27be53cb></span><!--[--><a class="vp-link link tag vp-tag-150f" href="/blog/tags/?tag=modbus" data-v-27be53cb><!--[-->modbus<!--]--><!----></a><a class="vp-link link tag vp-tag-rfyo" href="/blog/tags/?tag=protocol" data-v-27be53cb><!--[-->protocol<!--]--><!----></a><a class="vp-link link tag vp-tag-6plf" href="/blog/tags/?tag=embeded" data-v-27be53cb><!--[-->embeded<!--]--><!----></a><!--]--></p><!--[--><!--]--><p class="create-time" data-v-27be53cb><span class="vpi-clock icon" data-v-27be53cb></span><span data-v-27be53cb>2025-07-16</span></p></div><!--]--><!--[--><!--]--><div class="_article_6gkj6g9h_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-23f6ad98><!--[--><!--]--><div data-v-23f6ad98><h3 id="modbus-rtu-vs-modbus-tcp-ip" tabindex="-1"><a class="header-anchor" href="#modbus-rtu-vs-modbus-tcp-ip"><span>Modbus RTU vs Modbus TCP/IP</span></a></h3><p>1.Network Infrastructure</p><ul><li>Modbus TCP requires Ethernet infrastructure, making it more suitable for modern industrial control systems where Ethernet networks already exist. If your devices are already connected to Ethernet, using Modbus TCP communication might be more convenient.</li><li>Modbus RTU doesn&#39;t require Ethernet; it can work with serial communication in more challenging environments, such as remote monitoring stations and long-distance communications.</li></ul><p>2.Communication Speed</p><ul><li>Modbus TCP has higher transmission speed.</li><li>Modubs RTU can also provide high-speed communication, but it typically operates at lower communication speeds, especially for long-distance communication.</li></ul><p>3.Communication Distance</p><ul><li>Modbus TCP is suitable for relatively short communication distance and is commonly used in local area networks</li><li>Modbus RTU is more suitable for long-distance communications.</li></ul><h3 id="modbud-pdu-protocol-data-unit" tabindex="-1"><a class="header-anchor" href="#modbud-pdu-protocol-data-unit"><span>Modbud PDU(Protocol Data Unit)</span></a></h3><table><thead><tr><th>Device address</th><th>Function Code</th><th>Data</th><th>CRC</th></tr></thead><tbody><tr><td>8 bits</td><td>8 bits</td><td>n bits</td><td>16 bits</td></tr></tbody></table><h4 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h4><p>Send data</p><table><thead><tr><th>Address</th><th>function code</th><th>start register address</th><th>end register address</th><th>CRC</th></tr></thead><tbody><tr><td>0x1</td><td>0x3</td><td>0x07D0</td><td>0x07D1</td><td>0x4728</td></tr></tbody></table><p>Receive data</p><table><thead><tr><th>Address</th><th>function code</th><th>byte count</th><th>data</th><th>CRC</th></tr></thead><tbody><tr><td>0x1</td><td>0x3</td><td>0x4</td><td>0x00010002</td><td>0x4728</td></tr></tbody></table><p>Send data</p><table><thead><tr><th>Address</th><th>function code</th><th>start register address</th><th>end register address</th><th>data</th><th>CRC</th></tr></thead><tbody><tr><td>0x1</td><td>0x10</td><td>0x07D0</td><td>0x07D1</td><td>0x00010002</td><td>0x4728</td></tr></tbody></table><p>Receive data</p><table><thead><tr><th>Address</th><th>function code</th><th>start register address</th><th>end register address</th><th>CRC</th></tr></thead><tbody><tr><td>0x1</td><td>0x10</td><td>0x07D0</td><td>0x07D1</td><td>0x4728</td></tr></tbody></table><h3 id="function-code" tabindex="-1"><a class="header-anchor" href="#function-code"><span>Function Code</span></a></h3><table><thead><tr><th>Function Code (Decimal)</th><th>Function Code (Hex)</th><th>Description</th></tr></thead><tbody><tr><td><strong>Bit Access</strong></td><td></td><td></td></tr><tr><td>01</td><td>0x01</td><td>Read Coils</td></tr><tr><td>02</td><td>0x02</td><td>Read Discrete Inputs</td></tr><tr><td>05</td><td>0x05</td><td>Write Single Coil</td></tr><tr><td>15</td><td>0x0F</td><td>Write Multiple Coils</td></tr><tr><td><strong>Word Access</strong></td><td></td><td></td></tr><tr><td>03</td><td>0x03</td><td>Read Holding Registers</td></tr><tr><td>04</td><td>0x04</td><td>Read Input Registers</td></tr><tr><td>06</td><td>0x06</td><td>Write Single Register</td></tr><tr><td>16</td><td>0x10</td><td>Write Multiple Registers</td></tr><tr><td>23</td><td>0x17</td><td>Read/Write Multiple Registers</td></tr><tr><td><strong>File Record Access</strong></td><td></td><td></td></tr><tr><td>20</td><td>0x14</td><td>Read File Record</td></tr><tr><td>21</td><td>0x15</td><td>Write File Record</td></tr><tr><td><strong>Diagnostics</strong></td><td></td><td></td></tr><tr><td>07</td><td>0x07</td><td>Read Exception Status</td></tr><tr><td>08</td><td>0x08</td><td>Diagnostic</td></tr><tr><td>11</td><td>0x0B</td><td>Get Comm Event Counter</td></tr><tr><td>12</td><td>0x0C</td><td>Get Comm Event Log</td></tr><tr><td>17</td><td>0x11</td><td>Report Slave ID</td></tr></tbody></table><h3 id="exception-code" tabindex="-1"><a class="header-anchor" href="#exception-code"><span>Exception Code</span></a></h3><table><thead><tr><th>Exception Code (Dec)</th><th>Exception Code (Hex)</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>01</td><td>0x01</td><td>ILLEGAL FUNCTION</td><td>Invalid Function Code<br>* Function code is not supported by slave<br>* Function is not allowed for the slave</td></tr><tr><td>02</td><td>0x02</td><td>ILLEGAL DATA ADDRESS</td><td>Invalid Data Address<br>* Address is not allowed for the slave<br>* Address range exceeds device limits</td></tr><tr><td>03</td><td>0x03</td><td>ILLEGAL DATA VALUE</td><td>Invalid Data Value<br>* Value in query data field is not allowed<br>* Value is outside the permitted range</td></tr><tr><td>04</td><td>0x04</td><td>SLAVE DEVICE FAILURE</td><td>Device Failure<br>* Unrecoverable error occurred while slave processing action</td></tr><tr><td>05</td><td>0x05</td><td>ACKNOWLEDGE</td><td>Acknowledge<br>* Slave accepted request<br>* Long duration of time to process</td></tr><tr><td>06</td><td>0x06</td><td>SLAVE DEVICE BUSY</td><td>Slave Device Busy<br>* Slave is processing a long-duration command<br>* Master should retry later</td></tr><tr><td>07</td><td>0x07</td><td>NEGATIVE ACKNOWLEDGE</td><td>Negative Acknowledge<br>* Slave cannot perform the program function</td></tr><tr><td>08</td><td>0x08</td><td>MEMORY PARITY ERROR</td><td>Memory Parity Error<br>* Slave detected a parity error in memory</td></tr><tr><td>0A</td><td>0x0A</td><td>GATEWAY PATH UNAVAILABLE</td><td>Gateway Path Unavailable<br>* Gateway cannot allocate a path for the request</td></tr><tr><td>0B</td><td>0x0B</td><td>GATEWAY TARGET DEVICE FAILED TO RESPOND</td><td>Gateway Target Device Failed to Respond<br>* No response from target device</td></tr></tbody></table></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-23f6ad98 data-v-fda6bbae><!--[--><!--]--><!----><!----><nav class="prev-next" data-v-fda6bbae><div class="pager" data-v-fda6bbae><a class="vp-link link pager-link prev" href="/article/k5kh9q8h/" data-v-fda6bbae><!--[--><span class="desc" data-v-fda6bbae>Previous page</span><span class="title" data-v-fda6bbae>STM32 clock tree</span><!--]--><!----></a></div><div class="pager" data-v-fda6bbae><!----></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-d90a7a26 data-v-bcf8d9a6><span class="percent" data-allow-mismatch data-v-bcf8d9a6>0%</span><span class="show icon vpi-back-to-top" data-v-bcf8d9a6></span><svg aria-hidden="true" data-v-bcf8d9a6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-bcf8d9a6></circle></svg></button><footer class="vp-footer" vp-footer data-v-d90a7a26 data-v-400675cf><!--[--><div class="container" data-v-400675cf><p class="message" data-v-400675cf>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-lqGoFMin.js" defer></script></body></html>